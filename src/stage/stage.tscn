[gd_scene load_steps=12 format=3 uid="uid://e7jihf677gx2"]

[ext_resource type="Script" path="res://src/stage/stage.gd" id="1_iaxbk"]
[ext_resource type="PackedScene" uid="uid://b0bxiobvelbs0" path="res://src/entities/creature/healthy_creature.tscn" id="2_dpvoq"]
[ext_resource type="PackedScene" uid="uid://6f3hygpsdmwo" path="res://src/entities/player/player.tscn" id="3_haygi"]
[ext_resource type="PackedScene" uid="uid://b7qdnfpx0cdak" path="res://src/entities/creature/infected_creature.tscn" id="3_yguvu"]
[ext_resource type="PackedScene" uid="uid://cqkcad7t71pwt" path="res://src/stage/city_scene.tscn" id="4_7q7vx"]
[ext_resource type="PackedScene" uid="uid://cpysboj23eaxd" path="res://src/entities/goal.tscn" id="5_27dnd"]
[ext_resource type="Texture2D" uid="uid://ukpu3buflwcm" path="res://assets/city_mat.png" id="6_f6d4e"]
[ext_resource type="PackedScene" uid="uid://6ghh3v87x3px" path="res://src/ui/HUD/HUD.tscn" id="6_thxyv"]
[ext_resource type="PackedScene" uid="uid://bbd54mtbluw6e" path="res://src/stage/camera_controller.tscn" id="8_mnsto"]
[ext_resource type="PackedScene" uid="uid://dknfhais6weqa" path="res://src/entities/background/stage_hazard.tscn" id="8_sj7rg"]

[sub_resource type="ViewportTexture" id="ViewportTexture_elk8j"]
viewport_path = NodePath("SubViewport")

[node name="Stage" type="Node2D"]
script = ExtResource("1_iaxbk")
healthy_scene = ExtResource("2_dpvoq")
infected_scene = ExtResource("3_yguvu")

[node name="SubViewport" type="SubViewport" parent="."]
transparent_bg = true
size = Vector2i(1920, 1080)

[node name="CityScene" parent="SubViewport" instance=ExtResource("4_7q7vx")]
unique_name_in_owner = true

[node name="Creatures" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Player" parent="." instance=ExtResource("3_haygi")]

[node name="Goal" parent="." instance=ExtResource("5_27dnd")]
position = Vector2(728, 0)

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(2.67029e-05, 1.52588e-05)
scale = Vector2(1.47126, 1.85666)
texture = ExtResource("6_f6d4e")

[node name="Hazards" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="StageHazard" parent="Hazards" instance=ExtResource("8_sj7rg")]
position = Vector2(-200, 0)

[node name="CameraController" parent="." node_paths=PackedStringArray("scene3d") instance=ExtResource("8_mnsto")]
scene3d = NodePath("../SubViewport/CityScene")

[node name="3DSprite" parent="CameraController/CameraAnchor" index="1"]
texture = SubResource("ViewportTexture_elk8j")

[node name="Hud" parent="CameraController/CameraAnchor" index="2" instance=ExtResource("6_thxyv")]
anchors_preset = 15
anchor_top = 0.0
offset_left = -960.0
offset_top = 281.0
offset_right = 960.0
offset_bottom = 540.0
grow_vertical = 2
metadata/_edit_use_anchors_ = true

[editable path="CameraController"]
